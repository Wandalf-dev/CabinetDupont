# ü¶∑ Cabinet Dupont - Syst√®me de Gestion de Cabinet Dentaire

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![PHP](https://img.shields.io/badge/PHP-8.2-purple.svg)
![MySQL](https://img.shields.io/badge/MySQL-10.4-orange.svg)
![Tests](https://img.shields.io/badge/tests-18%20passing-brightgreen.svg)
![Status](https://img.shields.io/badge/status-stable-success.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

Application web compl√®te de gestion de cabinet dentaire d√©velopp√©e en PHP natif avec architecture MVC.

## üìã Table des mati√®res

- [Aper√ßu](#-aper√ßu)
- [Fonctionnalit√©s](#-fonctionnalit√©s)
- [Technologies utilis√©es](#-technologies-utilis√©es)
- [Pr√©requis](#-pr√©requis)
- [Installation](#-installation)
- [Configuration](#-configuration)
- [Structure du projet](#-structure-du-projet)
- [Utilisation](#-utilisation)
- [Comptes de test](#-comptes-de-test)
- [Qualit√© et tests](#-qualit√©-et-tests)
- [Contribuer](#-contribuer)
- [Liens](#-liens)
- [Support](#-support)

## üéØ Aper√ßu

Cabinet Dupont est une solution moderne et intuitive pour la gestion compl√®te d'un cabinet dentaire. Elle permet de g√©rer les rendez-vous, les patients, les services, les actualit√©s et les horaires d'ouverture via une interface web responsive.

### Captures d'√©cran

- **Page d'accueil** : Pr√©sentation du cabinet, services, horaires
- **Espace patient** : Prise de rendez-vous en ligne
- **Espace administrateur** : Gestion compl√®te du cabinet
- **Planning** : Vue calendrier interactive avec drag & drop

## ‚ú® Fonctionnalit√©s

### Pour les patients
- üìÖ **Prise de rendez-vous en ligne** avec s√©lection du service
- üë§ **Gestion de profil** (informations personnelles, historique)
- üì∞ **Consultation des actualit√©s** du cabinet
- üïê **Visualisation des horaires** d'ouverture
- üì± **Interface responsive** (mobile, tablette, desktop)

### Pour l'administrateur
- üìä **Tableau de bord administratif** centralis√©
- üóìÔ∏è **Planning interactif** avec vue hebdomadaire/mensuelle
- üë• **Gestion des patients** (CRUD complet)
- üíº **Gestion des services** (tarifs, dur√©e, couleurs)
- üìù **Gestion des actualit√©s** (cr√©ation, modification, publication)
- ‚è∞ **Configuration des horaires** du cabinet
- üé® **G√©n√©ration de cr√©neaux** automatique
- üìã **Actions en masse** sur les cr√©neaux

### Fonctionnalit√©s avanc√©es
- üîê **Syst√®me d'authentification** s√©curis√© (CSRF, sessions)
- üé® **Th√®me personnalisable** par service (couleurs)
- üìß **Validation des donn√©es** c√¥t√© client et serveur
- üîç **Recherche et tri** dans les tableaux
- üíæ **Sauvegarde automatique** de la base de donn√©es
- ‚ôø **Accessibilit√©** (ARIA, focus visible, navigation clavier)

## üõ†Ô∏è Technologies utilis√©es

### Backend
- **PHP 8.2** - Langage serveur
- **MySQL 10.4** (MariaDB) - Base de donn√©es
- **PDO** - Connexion s√©curis√©e √† la base de donn√©es
- **Architecture MVC** - Organisation du code

### Frontend
- **HTML5** - Structure s√©mantique
- **CSS3** - Styles modernes (Grid, Flexbox, animations)
- **JavaScript ES6+** - Interactivit√©
- **Lottie** - Animations vectorielles
- **FontAwesome 6** - Ic√¥nes

### Outils
- **XAMPP** - Environnement de d√©veloppement
- **Git** - Gestion de versions
- **phpMyAdmin** - Administration de la base de donn√©es

## üì¶ Pr√©requis

- **XAMPP** (ou √©quivalent) avec :
  - PHP >= 8.2
  - MySQL/MariaDB >= 10.4
  - Apache >= 2.4
- **Git** (pour cloner le projet)
- Navigateur web moderne (Chrome, Firefox, Edge, Safari)

## üöÄ Installation

### 1. Cloner le projet

```bash
# Via HTTPS
git clone https://github.com/Wandalf-dev/CabinetDupont.git

# Via SSH (si configur√©)
git clone git@github.com:Wandalf-dev/CabinetDupont.git
```

### 2. Placer le projet dans le dossier XAMPP

```bash
# Windows
C:\xampp\htdocs\CabinetDupont

# Linux/Mac
/opt/lampp/htdocs/CabinetDupont
```

### 3. D√©marrer les services XAMPP

1. Ouvrir le **XAMPP Control Panel**
2. D√©marrer **Apache**
3. D√©marrer **MySQL**

### 4. Cr√©er la base de donn√©es

**Option A : Via phpMyAdmin (Interface graphique)**

1. Acc√©der √† [http://localhost/phpmyadmin](http://localhost/phpmyadmin)
2. Cr√©er une nouvelle base de donn√©es nomm√©e `bdd_dupont`
3. S√©lectionner la base de donn√©es
4. Cliquer sur **Importer**
5. Choisir le fichier `Backup/bdd_dupont.sql`
6. Cliquer sur **Ex√©cuter**

**Option B : Via ligne de commande**

```bash
# Windows (PowerShell)
& "C:\xampp\mysql\bin\mysql.exe" -u root -e "CREATE DATABASE IF NOT EXISTS bdd_dupont CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;"
& "C:\xampp\mysql\bin\mysql.exe" -u root bdd_dupont < Backup/bdd_dupont.sql

# Linux/Mac
mysql -u root -e "CREATE DATABASE IF NOT EXISTS bdd_dupont CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;"
mysql -u root bdd_dupont < Backup/bdd_dupont.sql
```

### 5. Configurer la connexion √† la base de donn√©es

V√©rifier le fichier `app/config/database.php` :

```php
<?php
return [
    'host' => 'localhost',
    'dbname' => 'bdd_dupont',
    'username' => 'root',
    'password' => '', // Laisser vide par d√©faut avec XAMPP
    'charset' => 'utf8mb4'
];
```

### 6. Acc√©der √† l'application

Ouvrir un navigateur et acc√©der √† :
- **Page d'accueil** : [http://localhost/CabinetDupont](http://localhost/CabinetDupont)
- **Connexion** : [http://localhost/CabinetDupont/auth/login](http://localhost/CabinetDupont/auth/login)

## ‚öôÔ∏è Configuration

### Configuration de la base URL

Si le projet n'est pas dans le dossier racine `CabinetDupont`, modifier `config.php` :

```php
<?php
// Si le projet est dans un sous-dossier diff√©rent
define('BASE_URL', '/mon-dossier');
```

### Configuration des chemins

Les chemins sont configur√©s automatiquement dans `config.php`. V√©rifier que :

```php
define('BASE_URL', '/CabinetDupont');
define('ROOT_PATH', __DIR__);
```

### Permissions des dossiers

Assurer que le dossier `public/uploads/` est accessible en √©criture :

```bash
# Linux/Mac
chmod -R 755 public/uploads

# Windows : Propri√©t√©s > S√©curit√© > Modifier les autorisations
```

## üìÅ Structure du projet

```
CabinetDupont/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ config/              # Configuration (base de donn√©es)
‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # Contr√¥leurs MVC
‚îÇ   ‚îú‚îÄ‚îÄ core/               # Classes core (App, Controller, Model, Csrf, Utils)
‚îÇ   ‚îú‚îÄ‚îÄ models/             # Mod√®les de donn√©es
‚îÇ   ‚îî‚îÄ‚îÄ views/              # Vues (templates HTML/PHP)
‚îÇ       ‚îú‚îÄ‚îÄ actu/           # Actualit√©s
‚îÇ       ‚îú‚îÄ‚îÄ admin/          # Administration
‚îÇ       ‚îú‚îÄ‚îÄ agenda/         # Planning
‚îÇ       ‚îú‚îÄ‚îÄ auth/           # Authentification
‚îÇ       ‚îú‚îÄ‚îÄ creneaux/       # Cr√©neaux
‚îÇ       ‚îú‚îÄ‚îÄ error/          # Pages d'erreur
‚îÇ       ‚îú‚îÄ‚îÄ horaires/       # Horaires
‚îÇ       ‚îú‚îÄ‚îÄ patient/        # Patients
‚îÇ       ‚îú‚îÄ‚îÄ rendezvous/     # Rendez-vous
‚îÇ       ‚îú‚îÄ‚îÄ service/        # Services
‚îÇ       ‚îú‚îÄ‚îÄ templates/      # Templates r√©utilisables (header, footer)
‚îÇ       ‚îî‚îÄ‚îÄ user/           # Profil utilisateur
‚îú‚îÄ‚îÄ assets/                 # Ressources (JSON Lottie)
‚îú‚îÄ‚îÄ Backup/                 # Sauvegardes SQL
‚îú‚îÄ‚îÄ css/                    # Feuilles de style
‚îÇ   ‚îú‚îÄ‚îÄ base/              # Styles de base
‚îÇ   ‚îú‚îÄ‚îÄ components/        # Composants r√©utilisables
‚îÇ   ‚îú‚îÄ‚îÄ layouts/           # Layouts (header, footer)
‚îÇ   ‚îú‚îÄ‚îÄ modules/           # Modules sp√©cifiques
‚îÇ   ‚îú‚îÄ‚îÄ pages/             # Pages sp√©cifiques
‚îÇ   ‚îî‚îÄ‚îÄ utils/             # Utilitaires
‚îú‚îÄ‚îÄ js/                     # Scripts JavaScript
‚îÇ   ‚îú‚îÄ‚îÄ components/        # Composants JS
‚îÇ   ‚îú‚îÄ‚îÄ modules/           # Modules JS (agenda, cr√©neaux, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ pages/             # Scripts par page
‚îÇ   ‚îî‚îÄ‚îÄ utils/             # Fonctions utilitaires
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ uploads/           # Images upload√©es (services, actualit√©s)
‚îú‚îÄ‚îÄ .htaccess              # Configuration Apache
‚îú‚îÄ‚îÄ config.php             # Configuration globale
‚îú‚îÄ‚îÄ index.php              # Point d'entr√©e
‚îî‚îÄ‚îÄ README.md              # Ce fichier
```

## üìñ Utilisation

### Connexion

#### En tant que Patient
1. Acc√©der √† [/auth/login](http://localhost/CabinetDupont/auth/login)
2. Cr√©er un compte ou utiliser un compte de test
3. Acc√©der √† l'espace patient

#### En tant qu'Administrateur
1. Se connecter avec un compte administrateur
2. Acc√©der au panneau d'administration via le menu

### Prise de rendez-vous (Patient)

1. **Connexion** ‚Üí Se connecter ou cr√©er un compte
2. **S√©lectionner un service** ‚Üí Choisir le type de consultation
3. **Choisir une date** ‚Üí S√©lectionner un cr√©neau disponible
4. **Confirmer** ‚Üí Valider le rendez-vous

### Gestion du planning (Administrateur)

1. **Acc√©der au planning** ‚Üí Menu "Planning"
2. **G√©n√©rer des cr√©neaux** ‚Üí Cr√©neaux > G√©n√©rer
3. **Visualiser les RDV** ‚Üí Vue hebdomadaire/mensuelle
4. **Actions sur RDV** ‚Üí Clic droit pour modifier/annuler
5. **Marquer indisponible** ‚Üí S√©lectionner cr√©neaux + actions en masse

### Gestion des services (Administrateur)

1. **Admin** ‚Üí Onglet "Services"
2. **Ajouter** ‚Üí Remplir le formulaire (nom, dur√©e, tarif, couleur)
3. **Modifier** ‚Üí Cliquer sur l'ic√¥ne d'√©dition
4. **Supprimer** ‚Üí Cliquer sur l'ic√¥ne de suppression

### Gestion des actualit√©s (Administrateur)

1. **Admin** ‚Üí Onglet "Actualit√©s"
2. **Cr√©er** ‚Üí R√©diger l'article avec image
3. **Publier** ‚Üí Changer le statut √† "PUBLIE"
4. **Modifier/Supprimer** ‚Üí Actions disponibles dans la liste

### Configuration des horaires (Administrateur)

1. **Admin** ‚Üí Onglet "Horaires"
2. **Configurer par jour** ‚Üí Ajouter plages horaires (matin/apr√®s-midi)
3. **Fermeture** ‚Üí Laisser vide pour un jour ferm√©
4. **Sauvegarder** ‚Üí Les horaires s'affichent sur la page d'accueil

## üë• Comptes de test

### Administrateur
- **Email** : `admin@cabinetdupont.fr`
- **Mot de passe** : `Admin123!`
- **R√¥le** : `MEDECIN`

### Patient
- **Email** : `patient@test.fr`
- **Mot de passe** : `Patient123!`
- **R√¥le** : `PATIENT`

## ‚úÖ Qualit√© et tests

Le projet a √©t√© **enti√®rement test√©** avec **PHPUnit** et **Composer** pour garantir sa stabilit√© et sa fiabilit√© en production.

### R√©sultats des tests

```
PHPUnit 10.5.58 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.2.12
Configuration: phpunit.xml

..................                                                18 / 18 (100%)

Time: 00:06.049, Memory: 8.00 MB

OK (18 tests, 38 assertions)
```

### Tests r√©alis√©s

#### ‚úÖ Tests Unitaires
- **Mod√®le Utilisateur** : Cr√©ation, recherche, validation, mise √† jour, suppression, hashage des mots de passe
- **Mod√®le Service** : Cr√©ation, r√©cup√©ration, validation des donn√©es

#### ‚úÖ Tests Fonctionnels
- **Authentification** : Connexion valide/invalide, v√©rification des r√¥les
- **Rendez-vous** : Flux complet de prise de rendez-vous, annulation, r√©cup√©ration

### Validation

- ‚úÖ **18 tests pass√©s** sur 18 (100% de r√©ussite)
- ‚úÖ **38 assertions valid√©es**
- ‚úÖ Transmission Frontend ‚Üî Backend v√©rifi√©e
- ‚úÖ Validation des donn√©es c√¥t√© serveur test√©e
- ‚úÖ Coh√©rence de la base de donn√©es confirm√©e

> **Note** : Les fichiers de tests ont √©t√© retir√©s du projet de production pour all√©ger le code d√©ploy√©. Le code a √©t√© valid√© et est **stable en production**.

## üóÉÔ∏è Base de donn√©es

### Tables principales

| Table | Description |
|-------|-------------|
| `utilisateur` | Utilisateurs (patients, m√©decins, administrateurs) |
| `agenda` | Agendas des praticiens |
| `creneau` | Cr√©neaux horaires disponibles |
| `rendezvous` | Rendez-vous confirm√©s |
| `service` | Services propos√©s par le cabinet |
| `actualite` | Actualit√©s du cabinet |
| `horaire_cabinet` | Horaires d'ouverture du cabinet |
| `cabinet` | Informations du cabinet |

### Relations
- Un **utilisateur** peut avoir un **agenda**
- Un **agenda** contient plusieurs **cr√©neaux**
- Un **cr√©neau** peut avoir un **rendez-vous**
- Un **rendez-vous** est li√© √† un **patient** et un **service**

## üîí S√©curit√©

- ‚úÖ Protection CSRF sur tous les formulaires
- ‚úÖ Validation des donn√©es c√¥t√© serveur
- ‚úÖ Requ√™tes pr√©par√©es (PDO) contre les injections SQL
- ‚úÖ Hashage des mots de passe (bcrypt)
- ‚úÖ Gestion des sessions s√©curis√©e
- ‚úÖ Protection des routes (middleware)
- ‚úÖ Validation des types de fichiers upload√©s
- ‚úÖ √âchappement des donn√©es affich√©es (XSS)

## üé® Personnalisation

### Modifier les couleurs du th√®me

√âditer `css/base/style.css` :

```css
:root {
  --bg: #f4f6fb;
  --brand: #3a6ea5;        /* Couleur principale */
  --accent: #00c6ff;       /* Couleur d'accent 1 */
  --accent-2: #0072ff;     /* Couleur d'accent 2 */
  --text: #1e2936;         /* Couleur du texte */
  --white: #fff;
}
```

### Modifier les informations du cabinet

√âditer directement dans les vues ou via la base de donn√©es :

```sql
UPDATE cabinet SET nom = 'Votre Cabinet', adresse = 'Votre Adresse' WHERE id = 1;
```

## ü§ù Contribuer

Les contributions sont les bienvenues ! Pour contribuer :

1. **Fork** le projet
2. Cr√©er une branche (`git checkout -b feature/AmazingFeature`)
3. Commit les changements (`git commit -m 'Add AmazingFeature'`)
4. Push vers la branche (`git push origin feature/AmazingFeature`)
5. Ouvrir une **Pull Request**

### Guidelines
- Respecter l'architecture MVC
- Commenter le code en fran√ßais
- Tester les fonctionnalit√©s avant de push
- Suivre les conventions de nommage existantes

## üìù Changelog

### Version 1.0.0 (Octobre 2025)
- ‚úÖ Syst√®me de gestion des rendez-vous
- ‚úÖ Planning interactif avec drag & drop
- ‚úÖ Gestion des patients, services et actualit√©s
- ‚úÖ Interface responsive
- ‚úÖ Syst√®me d'authentification s√©curis√©
- ‚úÖ Configuration des horaires d'ouverture
- ‚úÖ G√©n√©ration automatique de cr√©neaux
- ‚úÖ Actions en masse sur les cr√©neaux
- ‚úÖ Tableau de bord administrateur

## üîÆ Roadmap

### Futures fonctionnalit√©s
- [ ] Syst√®me de notifications par email
- [ ] Export des donn√©es (PDF, Excel)
- [ ] Statistiques et rapports avanc√©s
- [ ] Int√©gration calendrier (Google Calendar, Outlook)
- [ ] Application mobile
- [ ] Paiement en ligne
- [ ] SMS de rappel
- [ ] T√©l√©consultation

## üîó Liens

- **GitHub** : [https://github.com/Wandalf-dev/CabinetDupont.git](https://github.com/Wandalf-dev/CabinetDupont.git)
- **Site web** : [http://localhost/CabinetDupont](http://localhost/CabinetDupont)
- **Documentation** : Ce README
- **Issues** : [GitHub Issues](https://github.com/Wandalf-dev/CabinetDupont/issues)

## üìû Support

Pour toute question ou probl√®me :

1. Consulter la [documentation](#-utilisation)
2. V√©rifier les [issues GitHub](https://github.com/Wandalf-dev/CabinetDupont/issues)
3. Cr√©er une nouvelle issue si n√©cessaire
4. Contacter l'√©quipe de d√©veloppement

## üë®‚Äçüíª Auteur

**Wandalf-dev**
- GitHub : [@Wandalf-dev](https://github.com/Wandalf-dev)
- Projet : Cabinet Dupont

## üìÑ License

Ce projet est sous licence MIT. Voir le fichier `LICENSE` pour plus de d√©tails.

---

## üö® D√©pannage

### Probl√®me : Page blanche

**Solution** :
1. V√©rifier que Apache et MySQL sont d√©marr√©s
2. V√©rifier les logs d'erreur PHP dans `C:\xampp\apache\logs\error.log`
3. Activer l'affichage des erreurs dans `php.ini` : `display_errors = On`

### Probl√®me : Erreur de connexion √† la base de donn√©es

**Solution** :
1. V√©rifier que la base `bdd_dupont` existe
2. V√©rifier les identifiants dans `app/config/database.php`
3. V√©rifier que MySQL est bien d√©marr√©

### Probl√®me : Images ne s'affichent pas

**Solution** :
1. V√©rifier que le dossier `public/uploads/` existe
2. V√©rifier les permissions du dossier (755)
3. V√©rifier le chemin dans le code (relatif ou absolu)

### Probl√®me : CSS/JS ne se chargent pas

**Solution** :
1. V√©rifier la `BASE_URL` dans `config.php`
2. Vider le cache du navigateur (Ctrl + F5)
3. V√©rifier la console du navigateur pour les erreurs 404

### Probl√®me : Erreur 404 sur les routes

**Solution** :
1. V√©rifier que le fichier `.htaccess` est pr√©sent √† la racine
2. V√©rifier que `mod_rewrite` est activ√© dans Apache
3. V√©rifier la `BASE_URL` dans `config.php`

---

## üéâ Remerciements

Merci d'utiliser Cabinet Dupont ! N'h√©sitez pas √† ‚≠ê le projet sur GitHub si vous l'appr√©ciez.

**Bon d√©veloppement ! üöÄ**
